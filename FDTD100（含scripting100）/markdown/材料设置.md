## 1. 介绍
#### 1.1 3D 结构通过structure的材料属性定义非色散材料折射率
![](index_files/7244f11c-367f-486f-93da-9fb228430643.png)

如图，在 index 中键入常数 4，则表示此材料是空间各向同性的非色散材料，其折射率是 1.4。此方法同样也支持空间各向异性折射率设置：

![](index_files/3eae67f8-a98e-4e80-82f8-55c2d4e1c6f5.png)

如图，即表示 x 方向折射率是随坐标变化的，yz分析仿此。

此方法只能定义非色散材料的折射率。

#### 1.2 2D 结构材料属性由表面电导率表征

内置的电导率由理想电导体 PEC 以及 RLC 设置：

![](index_files/2b615614-9708-480b-b4f2-bf20702d8c03.png)

#### 1.3 通过外部导入设置材料折射率

![](index_files/61001d08-2d5e-440b-a85b-e03ee20d0130.png)

![](index_files/5af39304-5046-4b96-8a45-824df01f2ade.jpg)

注意：此种方法也只能设置非色散材料。

## 2. 内置材料

本节讲解 Material Base 里面的内置材料：

![](index_files/7f9ce7cd-8b2c-4cb9-98b5-fbf3f52ed1d9.png)

#### 2.1 etch

etch 用于 3D 结构的刻蚀，默认其折射率是 1，且网格顺序也为 1。网格顺序用于确定当两种材料在空间上重叠时优先选取哪种材料。

![](index_files/716b224b-415a-40cd-a80f-42bb94c37441.png)

![](index_files/1d661096-f5cd-48cb-a20b-79300a993c5e.jpg)

#### 2.2 其他定义材料折射率的方法

与 COMSOL 一样，除了内置的材料，也可以通过函数的方式定义材料在时间和空间上的属性：

![](index_files/0c04a4bb-b350-4597-8eb9-50634695324a.png)

#### 2.3 导入实验数据

我们更常用的是导入实验数据：

![](index_files/87aebb8d-dd09-41b8-bd46-d42f9cd590b9.png)

其中 3D 材料可以定义各波长/频率下的折射率/介电常数，而 2D 材料则可以定义体材料的电导率/电阻率以及材料的厚度。

![](index_files/4bc63730-f6af-4c28-a907-6a66fc640931.png)

## 3. 材料拟合

在进行计算之前应该检查一下材料属性拟合效果。我猜可能是因为 FDTD 本身是一种宽带仿真方法，因此要求在仿真频段内属性连续。因此需要对实验数据进行多项式拟合，从而得到一个连续的属性值。亦即： FDTD并不直接带入实验属性数据进行计算，而是带入基于实验数据拟合得到的属性数据进行计算。

是这样的，由于本构关系是频域关系，而FDTD本质是时域运算，因此需要在时域中表达本构关系：

![](index_files/7be42f62-c2d0-4658-b318-315aa58c6cec.jpg)

如果介电常数是已知函数可以表示的（通过函数拟合），那么上面时域的本构关系将十分简练。反之，则需要大量的内存用于存储这个关系。此处的拟合应该不是简单的多项式拟合，而是更本质的，满足物理定律（比如K-K关系）的函数拟合式。

#### 3.1 拟合

在 material explorer 中查看拟合结果：

![](index_files/917c827b-185e-4b28-a438-3c2d381c8274.png)

#### 3.2 参数释义

![](index_files/4f37e3cf-8e50-4171-9a7b-df5e75fcc77d.png)

fitting tolerance 表示拟合容差，其值越小，拟合曲线与实验数据越接近，但对噪声的容忍度也越低。最大拟合系数指定多项式拟合最大次幂。实际并不一定达到此幂次，如图所示。
